<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Your essential companion for conducting - metronome, tuner, and rehearsal tools">
    <meta name="theme-color" content="#1a1a2e">
    <title>Conductor's Companion</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="manifest" href="manifest.json">
    <link rel="icon" type="image/svg+xml" href="icon.svg">
</head>
<body>
    <div class="app-container">
        <!-- Header -->
        <header>
            <div class="header-content">
                <div class="logo">
                    <svg width="32" height="32" viewBox="0 0 32 32">
                        <path d="M16 4 L16 28 M8 12 L16 4 L24 12" stroke="currentColor" stroke-width="2" fill="none" stroke-linecap="round"/>
                    </svg>
                    <h1>Conductor's Companion</h1>
                </div>
                <p class="tagline">Your orchestral toolkit</p>
            </div>
        </header>

        <!-- Navigation Tabs -->
        <nav class="tab-nav">
            <button class="tab-btn active" data-tab="metronome">
                <span class="tab-icon">‚ô©</span>
                Metronome
            </button>
            <button class="tab-btn" data-tab="tuner">
                <span class="tab-icon">‚ô™</span>
                Tuner
            </button>
            <button class="tab-btn" data-tab="notes">
                <span class="tab-icon">üìù</span>
                Pieces
            </button>
            <button class="tab-btn" data-tab="timer">
                <span class="tab-icon">‚è±</span>
                Timer
            </button>
            <button class="tab-btn" data-tab="transpose">
                <span class="tab-icon">üéπ</span>
                Transpose
            </button>
        </nav>

        <!-- Main Content Area -->
        <main class="content">
            <!-- Metronome Tab -->
            <section id="metronome" class="tab-content active">
                <div class="metronome-container">
                    <div class="metronome-layout">
                        <!-- Left side: Tempo markings and slider -->
                        <div class="metronome-slider-section">
                            <div class="tempo-markings">
                                <div class="tempo-mark" data-bpm="208">Prestissimo</div>
                                <div class="tempo-mark" data-bpm="184">Presto</div>
                                <div class="tempo-mark" data-bpm="168">Vivace</div>
                                <div class="tempo-mark" data-bpm="144">Allegro</div>
                                <div class="tempo-mark" data-bpm="120">Moderato</div>
                                <div class="tempo-mark" data-bpm="108">Andante</div>
                                <div class="tempo-mark" data-bpm="76">Adagio</div>
                                <div class="tempo-mark" data-bpm="60">Largo</div>
                                <div class="tempo-mark" data-bpm="45">Larghetto</div>
                                <div class="tempo-mark" data-bpm="40">Grave</div>
                            </div>

                            <div class="metronome-visual">
                                <!-- Metronome body -->
                                <div class="metronome-body">
                                    <div class="metronome-slider-track">
                                        <input type="range"
                                               id="tempo-slider"
                                               min="40"
                                               max="208"
                                               value="120"
                                               step="1"
                                               orient="vertical">
                                        <div class="slider-thumb-visual" id="slider-thumb"></div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Right side: Display and controls -->
                        <div class="metronome-controls-section">
                            <div class="tempo-display">
                                <div class="bpm-value" id="bpm-display">120</div>
                                <div class="tempo-marking" id="tempo-marking">Moderato</div>
                            </div>

                            <div class="time-signature">
                                <label>Time Signature</label>
                                <div class="signature-buttons">
                                    <button class="sig-btn" data-beats="2">2/4</button>
                                    <button class="sig-btn" data-beats="3">3/4</button>
                                    <button class="sig-btn active" data-beats="4">4/4</button>
                                    <button class="sig-btn" data-beats="5">5/4</button>
                                    <button class="sig-btn" data-beats="6">6/8</button>
                                    <button class="sig-btn" data-beats="7">7/8</button>
                                </div>
                            </div>

                            <div class="beat-indicator">
                                <div class="beat-dots" id="beat-dots">
                                    <div class="dot"></div>
                                    <div class="dot"></div>
                                    <div class="dot"></div>
                                    <div class="dot"></div>
                                </div>
                            </div>

                            <button class="control-btn" id="metronome-toggle">
                                <span class="btn-text">Start</span>
                            </button>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Tuner Tab -->
            <section id="tuner" class="tab-content">
                <div class="tuner-container">
                    <div class="tuner-visual">
                        <svg width="200" height="200" viewBox="0 0 200 200" class="tuning-fork">
                            <path d="M85 50 L85 120 M115 50 L115 120 M85 50 L115 50 M100 120 L100 150"
                                  stroke="currentColor" stroke-width="4" fill="none" stroke-linecap="round"/>
                            <circle cx="100" cy="100" r="60" fill="none" stroke="currentColor"
                                    stroke-width="2" opacity="0.3" class="tuner-pulse"/>
                        </svg>
                    </div>

                    <div class="tuner-info">
                        <h2>Concert A</h2>
                        <div class="frequency-display">
                            <span class="frequency-value" id="frequency-display">440</span>
                            <span class="frequency-unit">Hz</span>
                        </div>
                        <p class="tuner-description">Oboe timbre</p>
                    </div>

                    <div class="frequency-adjust">
                        <button class="freq-btn" id="freq-down">‚àí</button>
                        <input type="range" id="frequency-slider" min="415" max="466" value="440" step="1">
                        <button class="freq-btn" id="freq-up">+</button>
                    </div>

                    <div class="tuner-presets">
                        <button class="tuner-preset-btn" data-freq="440">A440 (Modern)</button>
                        <button class="tuner-preset-btn" data-freq="442">A442 (European)</button>
                        <button class="tuner-preset-btn" data-freq="415">A415 (Baroque)</button>
                    </div>

                    <button class="control-btn" id="tuner-toggle">
                        <span class="btn-text">Play A</span>
                    </button>
                </div>
            </section>

            <!-- Pieces/Notes Tab -->
            <section id="notes" class="tab-content">
                <div class="notes-container">
                    <div class="notes-header">
                        <h2>My Repertoire</h2>
                        <button class="add-btn" id="add-piece-btn">+ Add Piece</button>
                    </div>

                    <div id="pieces-list" class="pieces-list">
                        <!-- Pieces will be dynamically added here -->
                    </div>

                    <!-- Empty state -->
                    <div id="empty-state" class="empty-state">
                        <div class="empty-icon">üéº</div>
                        <p>No pieces yet</p>
                        <p class="empty-hint">Add your first piece to start keeping rehearsal notes</p>
                    </div>
                </div>
            </section>

            <!-- Timer Tab -->
            <section id="timer" class="tab-content">
                <div class="timer-container">
                    <h2>Rehearsal Timer</h2>
                    <div class="timer-display" id="timer-display">00:00</div>
                    <div class="timer-controls">
                        <button class="control-btn" id="timer-start">Start</button>
                        <button class="control-btn secondary" id="timer-reset">Reset</button>
                    </div>
                    <div class="timer-presets">
                        <h3>Quick Timers</h3>
                        <div class="preset-timers">
                            <button class="timer-preset-btn" data-minutes="5">5 min</button>
                            <button class="timer-preset-btn" data-minutes="10">10 min</button>
                            <button class="timer-preset-btn" data-minutes="15">15 min</button>
                            <button class="timer-preset-btn" data-minutes="30">30 min</button>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Transpose Tab -->
            <section id="transpose" class="tab-content">
                <div class="transpose-container">
                    <h2>Note Transposer</h2>
                    <p class="transpose-description">Quickly translate notes from transposing instruments and different clefs to concert pitch</p>

                    <div class="transpose-form">
                        <div class="form-group">
                            <label for="instrument-select">From Instrument/Clef</label>
                            <select id="instrument-select" class="transpose-select">
                                <optgroup label="Transposing Instruments">
                                    <option value="C">Concert Pitch (C)</option>
                                    <option value="Bb">B‚ô≠ Instruments (Clarinet, Trumpet, Tenor Sax)</option>
                                    <option value="Eb">E‚ô≠ Instruments (Alto Sax, Bari Sax)</option>
                                    <option value="F">F Instruments (French Horn)</option>
                                    <option value="A">A Instruments (Clarinet in A)</option>
                                    <option value="Db">D‚ô≠ Instruments (Piccolo Trumpet)</option>
                                </optgroup>
                                <optgroup label="Clefs">
                                    <option value="bass">Bass Clef (8va lower)</option>
                                    <option value="alto">Alto Clef</option>
                                    <option value="tenor">Tenor Clef</option>
                                </optgroup>
                            </select>
                        </div>

                        <div class="form-group">
                            <label for="note-input">Written Note</label>
                            <div class="note-input-group">
                                <select id="note-input" class="transpose-select note-select">
                                    <option value="C">C</option>
                                    <option value="C#">C‚ôØ/D‚ô≠</option>
                                    <option value="D">D</option>
                                    <option value="D#">D‚ôØ/E‚ô≠</option>
                                    <option value="E">E</option>
                                    <option value="F">F</option>
                                    <option value="F#">F‚ôØ/G‚ô≠</option>
                                    <option value="G">G</option>
                                    <option value="G#">G‚ôØ/A‚ô≠</option>
                                    <option value="A">A</option>
                                    <option value="A#">A‚ôØ/B‚ô≠</option>
                                    <option value="B">B</option>
                                </select>
                                <select id="octave-input" class="transpose-select octave-select">
                                    <option value="3">3</option>
                                    <option value="4" selected>4</option>
                                    <option value="5">5</option>
                                    <option value="6">6</option>
                                </select>
                            </div>
                        </div>

                        <div class="transpose-arrow">‚Üì</div>

                        <div class="result-section">
                            <h3>Concert Pitch</h3>
                            <div class="concert-pitch-display" id="concert-pitch-result">
                                <div class="concert-note">C4</div>
                            </div>
                            <p class="result-explanation" id="result-explanation">This is what will actually sound</p>
                        </div>

                        <div class="transpose-examples">
                            <h3>Quick Reference</h3>
                            <div class="example-grid">
                                <div class="example-item">
                                    <strong>B‚ô≠ Clarinet plays C</strong>
                                    <span>Sounds: B‚ô≠</span>
                                </div>
                                <div class="example-item">
                                    <strong>F Horn plays C</strong>
                                    <span>Sounds: F (below)</span>
                                </div>
                                <div class="example-item">
                                    <strong>E‚ô≠ Alto Sax plays C</strong>
                                    <span>Sounds: E‚ô≠</span>
                                </div>
                                <div class="example-item">
                                    <strong>Bass Clef C4</strong>
                                    <span>Treble: C3</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>
        </main>

        <!-- Modal for adding/editing pieces -->
        <div id="piece-modal" class="modal">
            <div class="modal-content">
                <div class="modal-header">
                    <h2 id="modal-title">Add New Piece</h2>
                    <button class="close-btn" id="close-modal">&times;</button>
                </div>
                <div class="modal-body">
                    <div class="form-group">
                        <label for="piece-title">Title</label>
                        <input type="text" id="piece-title" placeholder="Symphony No. 5">
                    </div>
                    <div class="form-group">
                        <label for="piece-composer">Composer</label>
                        <input type="text" id="piece-composer" placeholder="Beethoven">
                    </div>
                    <div class="form-group">
                        <label for="piece-notes">Rehearsal Notes</label>
                        <textarea id="piece-notes" rows="6" placeholder="Notes about tempos, sections to work on, dynamics, etc."></textarea>
                    </div>
                </div>
                <div class="modal-footer">
                    <button class="control-btn secondary" id="cancel-modal">Cancel</button>
                    <button class="control-btn" id="save-piece">Save</button>
                </div>
            </div>
        </div>
    </div>

    <script src="app.js"></script>
</body>
</html>
