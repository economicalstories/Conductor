<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Your essential companion for conducting - metronome, tuner, and rehearsal tools">
    <meta name="theme-color" content="#1a1a2e">
    <title>Conductor's Companion</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="manifest" href="manifest.json">
    <link rel="icon" type="image/svg+xml" href="icon.svg">
</head>
<body>
    <div class="app-container">
        <!-- Header -->
        <header>
            <div class="header-content">
                <div class="logo">
                    <svg width="32" height="32" viewBox="0 0 32 32">
                        <path d="M16 4 L16 28 M8 12 L16 4 L24 12" stroke="currentColor" stroke-width="2" fill="none" stroke-linecap="round"/>
                    </svg>
                    <h1>Conductor's Companion</h1>
                </div>
                <p class="tagline">Your orchestral toolkit</p>
            </div>
        </header>

        <!-- Navigation Tabs -->
        <nav class="tab-nav">
            <button class="tab-btn active" data-tab="metronome">
                <span class="tab-icon">‚ô©</span>
                Metronome
            </button>
            <button class="tab-btn" data-tab="tuner">
                <span class="tab-icon">‚ô™</span>
                Tuner
            </button>
            <button class="tab-btn" data-tab="timer">
                <span class="tab-icon">‚è±</span>
                Timer
            </button>
            <button class="tab-btn" data-tab="transpose">
                <span class="tab-icon">üéπ</span>
                Transpose
            </button>
        </nav>

        <!-- Main Content Area -->
        <main class="content">
            <!-- Metronome Tab -->
            <section id="metronome" class="tab-content active">
                <div class="metronome-container">
                    <!-- Mobile-optimized layout: slider left, controls right -->
                    <div class="metronome-main">
                        <!-- Vertical slider with tempo markings -->
                        <div class="slider-column">
                            <div class="tempo-scale">
                                <div class="scale-mark" data-bpm="208">
                                    <span class="mark-label">Prestissimo</span>
                                    <span class="mark-bpm">208</span>
                                </div>
                                <div class="scale-mark" data-bpm="184">
                                    <span class="mark-label">Presto</span>
                                    <span class="mark-bpm">184</span>
                                </div>
                                <div class="scale-mark" data-bpm="168">
                                    <span class="mark-label">Vivace</span>
                                    <span class="mark-bpm">168</span>
                                </div>
                                <div class="scale-mark" data-bpm="144">
                                    <span class="mark-label">Allegro</span>
                                    <span class="mark-bpm">144</span>
                                </div>
                                <div class="scale-mark active" data-bpm="120">
                                    <span class="mark-label">Moderato</span>
                                    <span class="mark-bpm">120</span>
                                </div>
                                <div class="scale-mark" data-bpm="108">
                                    <span class="mark-label">Andante</span>
                                    <span class="mark-bpm">108</span>
                                </div>
                                <div class="scale-mark" data-bpm="76">
                                    <span class="mark-label">Adagio</span>
                                    <span class="mark-bpm">76</span>
                                </div>
                                <div class="scale-mark" data-bpm="60">
                                    <span class="mark-label">Largo</span>
                                    <span class="mark-bpm">60</span>
                                </div>
                                <div class="scale-mark" data-bpm="40">
                                    <span class="mark-label">Grave</span>
                                    <span class="mark-bpm">40</span>
                                </div>
                            </div>

                            <div class="slider-track-container">
                                <input type="range"
                                       id="tempo-slider"
                                       min="40"
                                       max="208"
                                       value="120"
                                       step="1"
                                       orient="vertical"
                                       aria-label="Tempo slider">
                            </div>
                        </div>

                        <!-- Controls column -->
                        <div class="controls-column">
                            <!-- Large BPM display -->
                            <div class="bpm-display">
                                <div class="bpm-number" id="bpm-display">120</div>
                                <div class="bpm-label">BPM</div>
                            </div>

                            <!-- Time signature selector -->
                            <div class="time-sig-section">
                                <div class="sig-grid">
                                    <button class="sig-btn" data-beats="2">2/4</button>
                                    <button class="sig-btn" data-beats="3">3/4</button>
                                    <button class="sig-btn active" data-beats="4">4/4</button>
                                    <button class="sig-btn" data-beats="5">5/4</button>
                                    <button class="sig-btn" data-beats="6">6/8</button>
                                    <button class="sig-btn" data-beats="7">7/8</button>
                                </div>
                            </div>

                            <!-- Beat indicator -->
                            <div class="beat-display">
                                <div class="beat-dots" id="beat-dots">
                                    <div class="dot"></div>
                                    <div class="dot"></div>
                                    <div class="dot"></div>
                                    <div class="dot"></div>
                                </div>
                            </div>

                            <!-- Start/Stop button -->
                            <button class="control-btn" id="metronome-toggle">
                                <span class="btn-text">Start</span>
                            </button>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Tuner Tab -->
            <section id="tuner" class="tab-content">
                <div class="tuner-container">
                    <div class="tuner-visual">
                        <svg width="200" height="200" viewBox="0 0 200 200" class="tuning-fork">
                            <path d="M85 50 L85 120 M115 50 L115 120 M85 50 L115 50 M100 120 L100 150"
                                  stroke="currentColor" stroke-width="4" fill="none" stroke-linecap="round"/>
                            <circle cx="100" cy="100" r="60" fill="none" stroke="currentColor"
                                    stroke-width="2" opacity="0.3" class="tuner-pulse"/>
                        </svg>
                    </div>

                    <div class="tuner-info">
                        <h2>Concert A</h2>
                        <div class="frequency-display">
                            <span class="frequency-value" id="frequency-display">440</span>
                            <span class="frequency-unit">Hz</span>
                        </div>
                        <p class="tuner-description">Oboe timbre</p>
                    </div>

                    <div class="frequency-adjust">
                        <button class="freq-btn" id="freq-down">‚àí</button>
                        <input type="range" id="frequency-slider" min="415" max="466" value="440" step="1">
                        <button class="freq-btn" id="freq-up">+</button>
                    </div>

                    <div class="tuner-presets">
                        <button class="tuner-preset-btn" data-freq="440">A440 (Modern)</button>
                        <button class="tuner-preset-btn" data-freq="442">A442 (European)</button>
                        <button class="tuner-preset-btn" data-freq="415">A415 (Baroque)</button>
                    </div>

                    <button class="control-btn" id="tuner-toggle">
                        <span class="btn-text">Play A</span>
                    </button>
                </div>
            </section>

            <!-- Timer Tab -->
            <section id="timer" class="tab-content">
                <div class="timer-container">
                    <h2>Rehearsal Timer</h2>
                    <div class="timer-display" id="timer-display">00:00</div>
                    <div class="timer-controls">
                        <button class="control-btn" id="timer-start">Start</button>
                        <button class="control-btn secondary" id="timer-reset">Reset</button>
                    </div>
                    <div class="timer-presets">
                        <h3>Quick Timers</h3>
                        <div class="preset-timers">
                            <button class="timer-preset-btn" data-minutes="5">5 min</button>
                            <button class="timer-preset-btn" data-minutes="10">10 min</button>
                            <button class="timer-preset-btn" data-minutes="15">15 min</button>
                            <button class="timer-preset-btn" data-minutes="30">30 min</button>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Transpose Tab -->
            <section id="transpose" class="tab-content">
                <div class="transpose-container">
                    <h2>Transposer</h2>

                    <!-- Input controls -->
                    <div class="transpose-controls">
                        <div class="control-group">
                            <label for="instrument-select">Instrument</label>
                            <select id="instrument-select" class="select-control">
                                <option value="C">Concert Pitch (C)</option>
                                <option value="Bb">B‚ô≠ (Cl, Tpt, Ten Sax)</option>
                                <option value="Eb">E‚ô≠ (Alto Sax, Bari Sax)</option>
                                <option value="F">F (Horn)</option>
                                <option value="A">A (Clarinet)</option>
                                <option value="bass">Bass Clef</option>
                                <option value="alto">Alto Clef</option>
                            </select>
                        </div>

                        <div class="control-group">
                            <label for="note-input">Note</label>
                            <select id="note-input" class="select-control">
                                <option value="C">C</option>
                                <option value="C#">C‚ôØ/D‚ô≠</option>
                                <option value="D">D</option>
                                <option value="D#">D‚ôØ/E‚ô≠</option>
                                <option value="E">E</option>
                                <option value="F">F</option>
                                <option value="F#">F‚ôØ/G‚ô≠</option>
                                <option value="G">G</option>
                                <option value="G#">G‚ôØ/A‚ô≠</option>
                                <option value="A">A</option>
                                <option value="A#">A‚ôØ/B‚ô≠</option>
                                <option value="B">B</option>
                            </select>
                        </div>

                        <div class="control-group">
                            <label for="octave-input">Octave</label>
                            <select id="octave-input" class="select-control">
                                <option value="3">3</option>
                                <option value="4" selected>4</option>
                                <option value="5">5</option>
                                <option value="6">6</option>
                            </select>
                        </div>
                    </div>

                    <!-- Written pitch staff -->
                    <div class="staff-section">
                        <h3 class="staff-title">Written Pitch</h3>
                        <svg id="written-staff" class="staff-svg" viewBox="0 0 400 200" xmlns="http://www.w3.org/2000/svg">
                            <!-- Staff lines -->
                            <line x1="20" y1="60" x2="380" y2="60" stroke="#d4af37" stroke-width="1.5"/>
                            <line x1="20" y1="80" x2="380" y2="80" stroke="#d4af37" stroke-width="1.5"/>
                            <line x1="20" y1="100" x2="380" y2="100" stroke="#d4af37" stroke-width="1.5"/>
                            <line x1="20" y1="120" x2="380" y2="120" stroke="#d4af37" stroke-width="1.5"/>
                            <line x1="20" y1="140" x2="380" y2="140" stroke="#d4af37" stroke-width="1.5"/>

                            <!-- Clef (will be dynamically added) -->
                            <g id="written-clef"></g>

                            <!-- Note head (will be dynamically positioned) -->
                            <g id="written-note"></g>
                        </svg>
                    </div>

                    <!-- Arrow indicator -->
                    <div class="transpose-indicator">
                        <div class="arrow-down">‚Üì</div>
                        <p class="indicator-text" id="transpose-info">Sounds...</p>
                    </div>

                    <!-- Concert pitch staff -->
                    <div class="staff-section concert">
                        <h3 class="staff-title">Concert Pitch (Treble Clef)</h3>
                        <svg id="concert-staff" class="staff-svg" viewBox="0 0 400 200" xmlns="http://www.w3.org/2000/svg">
                            <!-- Staff lines -->
                            <line x1="20" y1="60" x2="380" y2="60" stroke="#d4af37" stroke-width="1.5"/>
                            <line x1="20" y1="80" x2="380" y2="80" stroke="#d4af37" stroke-width="1.5"/>
                            <line x1="20" y1="100" x2="380" y2="100" stroke="#d4af37" stroke-width="1.5"/>
                            <line x1="20" y1="120" x2="380" y2="120" stroke="#d4af37" stroke-width="1.5"/>
                            <line x1="20" y1="140" x2="380" y2="140" stroke="#d4af37" stroke-width="1.5"/>

                            <!-- Treble clef -->
                            <g id="concert-clef"></g>

                            <!-- Note head (will be dynamically positioned) -->
                            <g id="concert-note"></g>
                        </svg>
                    </div>
                </div>
            </section>
        </main>

    </div>

    <script src="app.js"></script>
</body>
</html>
